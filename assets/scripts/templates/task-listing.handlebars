{{#each tasks as |task|}}

  <section class="task">
    <ul class="collapsible">
        <li class="taskDropdown" data-id="{{task.id}}">

          <div id="taskDropdown-{{task.id}}" class="collapsible-header"><i class="material-icons right">expand_more</i>{{limit task.title 25}}</div>
          <div class="collapsible-body"><span>
            <p>
              <small>Description:</small>
              {{#if task.description}}
                {{task.description}}
              {{else}}

              {{/if}}
            </p>
            <p>
              <small>Due Date:</small>
              {{#if task.target_date}}
                {{task.target_date}}
              {{else}}

              {{/if}}
            </p>
            <!-- Delete Button -->
            <button type="submit" class="delete-task-btn btn red btn-danger" data-id="{{task.id}}">Delete!</button>
            <!-- Modal Trigger -->
            <a id="update-task-modal-btn-{{task.id}}" class="update-task-modal-btn btn green modal-trigger" href="#updateTaskModal-{{task.id}}" data-id="{{task.id}}">Update</a>
          </span></div>
        </li>
      </ul>

    <!-- Modal Structure -->
    <div id="updateTaskModal-{{task.id}}" class="modal">
      <div class="row">
        <div class="col s12 center">
          <form id="update-task-modal-form-{{task.id}}" data-id="{{task.id}}" class="inner-fields update-task-modal-form">
            <div class="form-group">
              <label for="updateTask">Update Task</label>
              <div class="row">
                <div class="input-field col s12">
                  <input name="task[title]" type="text" class="validate">
                  <label for="updateTask">Update Task Title</label>
                </div>
              </div>
              <div class="row">
                <div class="input-field col s12">
                <input name="task[description]" type="text" class="validate">
                <label for="description">Update Description</label>
                </div>
              </div>
              <div class="row">
                <div class="input-field col s12">
                <input name="task[target_date]" type="text" class="validate">
                <label for="targetDate">Update Date</label>
                </div>
              </div>
              <div class="modal-footer">
                <input type="submit" value="Update" class="s12 btn btn-secondary modal-close">
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </section>

{{/each}}
